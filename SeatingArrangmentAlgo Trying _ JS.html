<!DOCTYPE html>
<html>

<body>
    <script>
        var A = new Array();    //New Array
        //input in the form of different sections
        A[0] = ["A", "A", "A", "A"];
        A[1] = ["B", "B", "B", "B"];
        A[2] = ["C", "C", "C", "C", "C", "C"];
        A[3] = ["D", "D", "D", "D", "D", "D", "D"];
        A[4] = ["F", "F", "F"];
        document.write("Input Array: " + A + "<br>Number of Sections: " + A.length + "<br>");
        var NArray = new Array();
        i = 0;
        std = 0;
        for (s = 0; s < A.length; s++) {
            std += A[s].length;
            document.write("Students of section " + A[s][0] + " = " + A[s].length + "<br>");
        }
        document.write("Total Number of studetns: " + std + "<br><br><br>");

        //algorithm starting almost
        leng = len = A.length;
        flag = true; spc = false;
        while (leng > 0) {
            flag = false;
            //popping from input array and pushing in output array according to the condition
            for (j = 0; j < len; j++) {
                //if(i%10==0 && i > 9) {j = Math.floor(std/2);}
                if (A[j].length > 0 && NArray[i - 10] != A[j][0] && (NArray[i - 1] != A[j][0] || i % 10 == 0)) {
                    NArray.push(A[j].shift());
                    i++;
                    flag = true;
                }
            }
            document.write("Array left: " + A + "<br>");  //Diplaying the remaining array
            document.write("i: " + i + "<br>");
            document.write("Output Array: " + NArray + "<br>");

            //calculating total length after every main iteration: after taking from each of the sub array element.
            var count = 0;
            for (a = 0; a < len; a++) {
                if (A[a].length == 0) continue;
                count++;
            }
            document.write("Number of sections: " + count + "<br><br>");
            leng = count;//updating the new length of array: number of sections left

            if (flag == false) {
                //ask to the user how to allot the seats
                finish = 2  //if 1 then allot them as it is, if 2 allot them with spaces
                if (finish == 1) {
                    for (r = 0; r < len; r++) {
                        while (A[r].length > 0)
                            NArray.push(A[r].shift());
                    }
                }
                else if (finish == 2) {
                    flag = spc = true;
                    NArray.push("X");   //X is Supposed to be space
                    i++;
                }
            }
        }//end the main while (outer) loop

        //Displaying the results
        document.write("Number of seats allocated: " + i + "<br>");
        if (flag == false) {
            document.write("Student are left = " + (std - i) + "<br>");
        }

        //displaying the resulting array
        var c = 1;
        for (n = 0; n < NArray.length; n++) {
            if ((n + 1) % 10 == 1) {
                document.write("<br>Column#" + c + " : ");
                c++;
            }
            document.write(NArray[n] + "--");
        }
    </script>

</body>

</html>
